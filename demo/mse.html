

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>MseLive</title>
    <link href="http://vjs.zencdn.net/5.8.8/video-js.css" rel="stylesheet">
    <script src="http://vjs.zencdn.net/ie8/1.1.2/videojs-ie8.min.js"></script>
</head>
<body>
    <script src="video.js"></script>
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/video.js/5.10.2/video.js"></script>-->
    <script src="muxer.js"></script>
    <script>
        var ws = new WebSocket("ws://127.0.0.1:8088/live/livestream.flv");
        ws.onopen = function() {
            document.write('<span>ws: ' + ws.url + ' opened</span><br/>');
        };
        ws.onmessage = function(evt) {
            var b = evt.data; // Blob: https://developer.mozilla.org/en-US/docs/Web/API/Blob
            document.write('<span>ws: blob ' + b.type + ' ' + b.size + 'bytes</span><br/>');
        };
        ws.onclose = function(evt) {
            document.write('<span font="yellow">ws: closed</span><br/>');
            console.log(evt);
        };
        ws.onerror = function(evt) {
            document.write('<span font="darkred">ws: closed</span><br/>');
            console.log(evt);
        };
    </script>
</body>
</html>
